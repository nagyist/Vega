import{a as d,e as p,r as u,o as R,i as v,j as g,k,F as _}from"./entry-b43eb9fc.mjs";import{R as i}from"./Recorder-fde5b00e.mjs";import E from"./RecordingModal-6b0a6672.mjs";import"./VButton-2e3961c8.mjs";import"./VModal-b412fb7c.mjs";import"./VIcons-75f8714f.mjs";import"./mdi-00233b2d.mjs";function b(l,n){const e=document.createElement("a");e.href&&URL.revokeObjectURL(e.href),e.href=URL.createObjectURL(l),e.download=n,e.dispatchEvent(new MouseEvent("click")),e.remove()}const h=d({__name:"RecordingButton",setup(l){const{timeline:n,startRecording:e,play:r,update:a}=p(),o=u(!1);function m(){e(!1),o.value=!1,a(0,!0),r(!1)}function f(){i.main&&(i.main.start(n.value.strips),a(0,!0),e(),r(!0),o.value=!0,i.main.onEnd=c=>{e(!1),b(c,"hoge.webm"),o.value=!1,a(0,!0),r(!1)})}const s=u(!1);return(c,t)=>(R(),v(_,null,[g("button",{onClick:t[0]||(t[0]=()=>s.value=!0)}," recording "),k(E,{"is-open":s.value,"is-recording":o.value,onClose:t[1]||(t[1]=()=>s.value=!1),onStartRecording:f,onStopRecording:m},null,8,["is-open","is-recording"])],64))}});export{h as default};
