import h from"./AssetListItemBase-1c38b7f7.mjs";import E from"./AssetInspectorModal-7841f5f7.mjs";import{p as I,a as M,b as P,r as u,x as T,o as i,i as l,F as $,y as j,u as z,k as c,z as B}from"./entry-9c7e41ff.mjs";import{u as F}from"./useDragAndDrop-d59d9e08.mjs";import{s as L}from"./index-312ceec2.mjs";import{g as S}from"./getIsElectron()-f1a2ad23.mjs";import"./VIcons-f68a3dd6.mjs";import"./mdi-00233b2d.mjs";import"./VStringInput-7ec73f95.mjs";import"./VModal-69ce0ef8.mjs";const V=["id","onClick","onMousedown"],N=M({__name:"AssetPanel",setup(O){const{assets:t,addAsset:p,removeAsset:d}=P(),{startDad:m}=F(),f=S();function _(e){var o;e.preventDefault();const s=(o=e.dataTransfer)==null?void 0:o.files[0];!s||p({id:L.uuid(),name:s.name,path:(f?"file:":"")+s.path,type:g(v(s.name))})}function v(e){return e.split(".").pop()||""}function g(e){switch(e){case"jpg":case"jpeg":case"png":case"gif":return"Image";case"mp4":case"webm":case"ogg":return"Video";case"mp3":case"wav":return"Audio";default:return"unknown"}}function k(e){e.preventDefault()}function A(e,s){m(e,"assets",s,`asset-list-item-${s}`)}function y(e){t.value.selectedAssets=[e]}function x(e){return t.value.selectedAssets.includes(e)}const a=u(null),b=()=>{var e;(e=a.value)==null||e.focus()};T(()=>{var e;(e=a.value)==null||e.addEventListener("keydown",s=>{s.key==="x"&&t.value.selectedAssets.length>0&&d(t.value.selectedAssets[0])})});const r=u(!1);return(e,s)=>{const o=h,D=E;return i(),l("div",{ref_key:"el",ref:a,style:{height:"100%"},tabindex:"0",onClick:b,onDrop:_,onDragover:k},[(i(!0),l($,null,j(z(t).assets,(n,w)=>(i(),l("div",{id:`asset-list-item-${n.id}`,key:w,class:"asset-list-item",style:B({backgroundColor:x(n)?"#333":"black"}),onClick:()=>y(n),onMousedown:C=>A(C,n.id)},[c(o,{asset:n,onClickDots:s[0]||(s[0]=()=>r.value=!0)},null,8,["asset"])],44,V))),128)),c(D,{"is-open":r.value,onClose:s[1]||(s[1]=()=>r.value=!1)},null,8,["is-open"])],544)}}});var Y=I(N,[["__scopeId","data-v-486beb21"]]);export{Y as default};
