import S from"./VIcons-5d7db2dd.mjs";import{p as B,a as j,e as T,f as u,r as g,x as $,u as a,o as p,i as w,j as f,z as y,F as z,y as E,l as O,D as F,c as R}from"./entry-4d34f830.mjs";import{d as U}from"./mdi-00233b2d.mjs";const I={style:{overflow:"hidden"}},L=j({__name:"TextStripUi",props:{strip:null},setup(k){const m=k,{timeline:i}=T(),d=u(()=>m.strip.effects.find(e=>e.type==="Text")),h=g(null),_=u(()=>{var n,s,r;const e=((r=(s=(n=h.value)==null?void 0:n.parentElement)==null?void 0:s.parentElement)==null?void 0:r.getBoundingClientRect().width)||1,l=(i.value.end-i.value.start)/i.value.length;return e/i.value.length/l}),t=g(null),c=u(()=>F.get(d.value.id));function b(){var x;if(!t.value)return;const e=(x=t.value)==null?void 0:x.getContext("2d");if(!e||!c.value)return;const l=c.value.canvas,n=l.getContext("2d");if(!n)return;const s=c.value.mesureWidth,r=c.value.mesureHeight,C=s/r;t.value.width=t.value.height*C,e.clearRect(0,0,t.value.width,t.value.height),e.drawImage(n.canvas,l.width/2-s/2,n.canvas.height/2-r/2,s,r,0,0,t.value.width,t.value.height)}$(()=>{const e=()=>{b(),window.requestAnimationFrame(e)};e()});const o=u(()=>(m.strip.start-i.value.start)*_.value),v=12;return(e,l)=>{const n=S;return a(d)?(p(),w("div",{key:0,ref_key:"el",ref:h,style:{height:"100%",display:"flex",overflow:"hidden",padding:"0 12px",position:"relative"}},[f("div",I,[f("canvas",{ref_key:"canvas",ref:t,class:"video",style:y({left:(a(o)<0?a(o)<-50?62:12-a(o):12)+"px"})},null,4)]),f("div",null,[(p(!0),w(z,null,E(a(d).animations,(s,r)=>(p(),R(n,{key:r,path:a(U),style:y([{fill:"orange",stroke:"white","stroke-width":"2px",position:"absolute"},`width: ${v}px; height: ${v}px; left: ${s.time*a(_)-4-v/2+(a(o)<-50?a(o)+50:0)}px; z-index: 1; bottom: ${0}px`]),viewBox:"0 0 24 24"},null,8,["path","style"]))),128))])],512)):O("",!0)}}});var q=B(L,[["__scopeId","data-v-0618c3b2"]]);export{q as default};
