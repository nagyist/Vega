import{a as m,e as p,r as u,o as R,i as g,j as v,k as _,F as k}from"./entry-5722d099.mjs";import{R as l}from"./Recorder-e64cbf6d.mjs";import j from"./RecordingModal-ec987ab1.mjs";function B(t,r){const e=document.createElement("a");e.href&&URL.revokeObjectURL(e.href),typeof t=="string"?e.href="data:text/json;charset=utf-8,"+encodeURIComponent(t):e.href=URL.createObjectURL(t),e.download=r,e.dispatchEvent(new MouseEvent("click")),e.remove()}const E=m({__name:"RecordingButton",setup(t){const{timeline:r,startRecording:e,play:a,update:s}=p(),n=u(!1);function f(){e(!1),n.value=!1,s(0,!0),a(!1)}function d(){l.main&&(l.main.start(r.value.strips),s(0,!0),e(),a(!0),n.value=!0,l.main.onEnd=c=>{e(!1),B(c,"hoge.webm"),n.value=!1,s(0,!0),a(!1)})}const i=u(!1);return(c,o)=>(R(),g(k,null,[v("button",{onClick:o[0]||(o[0]=()=>i.value=!0)}," recording "),_(j,{"is-open":i.value,"is-recording":n.value,onClose:o[1]||(o[1]=()=>i.value=!1),onStartRecording:d,onStopRecording:f},null,8,["is-open","is-recording"])],64))}});var w=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{w as R,E as _,B as d};
