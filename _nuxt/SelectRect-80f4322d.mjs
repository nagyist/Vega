import{p as B,a as $,e as C,r as e,x as b,f as L,L as k,O as I,o as M,i as X,z as Y,u as z}from"./entry-5722d099.mjs";const D=$({__name:"SelectRect",props:{element:null},setup(R){const v=R,{timeline:g,selectStrip:y}=C(),c=e(!1),p=e(0),d=e(0),f=e(0),m=e(0),u=e(0),i=e(0),_=e([]),h=e(null);b(()=>{v.element.addEventListener("mousedown",t=>{_.value=[],g.value.strips.forEach(a=>{const l=document.getElementById(`strip-${a.id}`);l&&_.value.push(l)}),c.value=!0;const n=v.element.getBoundingClientRect();u.value=t.clientX-n.left,i.value=t.clientY-n.top}),window.addEventListener("mousemove",t=>{var x;if(!c.value)return;const n=v.element.getBoundingClientRect(),a=t.clientX-n.left,l=t.clientY-n.top;p.value=a<u.value?a:u.value,d.value=l<i.value?l:i.value,f.value=Math.abs(a-u.value),m.value=Math.abs(l-i.value);const o=(x=h.value)==null?void 0:x.getBoundingClientRect();if(!o)return;const w=[];_.value.forEach(s=>{const r=s.getBoundingClientRect();r.left<o.right&&r.right>o.left&&r.top<o.bottom&&r.bottom>o.top&&w.push(s.id)});const S=g.value.strips.filter(s=>w.includes(`strip-${s.id}`)).map(s=>s.id);y(S)}),window.addEventListener("mouseup",t=>{t.stopPropagation(),c.value=!1,p.value=0,d.value=0,f.value=0,m.value=0})});const E=L(()=>({left:`${p.value}px`,top:`${d.value}px`,width:`${f.value}px`,height:`${m.value}px`}));return(t,n)=>k((M(),X("div",{ref_key:"el",ref:h,class:"select-rect",style:Y(z(E))},null,4)),[[I,c.value]])}});var P=B(D,[["__scopeId","data-v-77a02e57"]]);export{P as default};
