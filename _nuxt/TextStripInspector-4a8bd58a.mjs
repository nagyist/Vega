import c from"./InspectorColorInput-a4b68451.mjs";import I from"./InspectorStringInput-958d8860.mjs";import{a as C,e as B,f as z,u as n,P as k,o as E,i as S,j as b,k as l,I as w,l as T}from"./entry-c28f6d48.mjs";import{s as F}from"./index-352be915.mjs";import{c as K}from"./clone-0e5b969a.mjs";import{s as N}from"./setAnimation-30ab6762.mjs";import p from"./InspectorInput-0c2e2ed0.mjs";import"./VColorInput-9a823e1e.mjs";import"./VInputBase-da2802e6.mjs";import"./VIcons-d2472329.mjs";import"./mdi-4cca1244.mjs";import"./InspectorInputBase-566227c2.mjs";import"./VStringInput-6bf7d879.mjs";import"./VInput-96bc35a5.mjs";import"./onDragStart-b67a33ef.mjs";const U={key:0},V={style:{padding:"4px"}},g=b("div",null,"TextEffect",-1),X=C({__name:"TextStripInspector",props:{strip:null},setup(d){const m=d,{timeline:v,updateEffect:y}=B(),t=z(()=>m.strip.effects.find(a=>a.type==="Text"));function i(a,e){var r;if(t.value&&k(t.value)){const s=K(t.value),o=new Function("effect","value",`
effect.${e} = value;
return effect
`)(s,a);y((r=m.strip)==null?void 0:r.id,{...o}),typeof a=="number"&&u(e)&&f(e,a)}}function f(a,e){if(!t.value)return;const r={id:F.uuid(),key:a,time:v.value.curent-m.strip.start,value:e},s={...t.value,animations:[...t.value.animations]};s.animations=N(s.animations||[],r),y(m.strip.id,s)}function u(a){var e;return((e=t.value)==null?void 0:e.animations.find(r=>r.key===a))!=null}return(a,e)=>{const r=c,s=I;return n(t)&&n(k)(n(t))?(E(),S("div",U,[b("div",V,[g,l(p,{label:"x",value:n(w)(n(t).animations,n(v).curent-d.strip.start,"position.x",n(t).position.x),"key-frame":u("position.x"),onInput:e[0]||(e[0]=o=>i(o,"position.x")),onKeyFrame:e[1]||(e[1]=()=>{var o;return f("position.x",(o=n(t))==null?void 0:o.position.x)})},null,8,["value","key-frame"]),l(p,{label:"y",value:n(w)(n(t).animations,n(v).curent-d.strip.start,"position.y",n(t).position.y),"key-frame":u("position.y"),onInput:e[2]||(e[2]=o=>{var x;return i({...(x=n(t))==null?void 0:x.position,y:o},"position")}),onKeyFrame:e[3]||(e[3]=()=>{var o;return f("position.y",(o=n(t))==null?void 0:o.position.y)})},null,8,["value","key-frame"]),l(p,{"key-frame":u("size"),label:"fontSize",value:n(t).size,onInput:e[4]||(e[4]=o=>i(o,"size")),onKeyFrame:e[5]||(e[5]=()=>{var o;return f("size",(o=n(t))==null?void 0:o.size)})},null,8,["key-frame","value"]),l(r,{label:"color",value:n(t).color,onUpdateColor:e[6]||(e[6]=o=>i(o,"color"))},null,8,["value"]),l(s,{label:"style",value:n(t).style,onInput:e[7]||(e[7]=o=>i(o,"style"))},null,8,["value"]),l(s,{label:"Family",value:n(t).family,onInput:e[8]||(e[8]=o=>i(o,"family"))},null,8,["value"]),l(p,{"key-frame":u("characterSpace"),label:"characterSpace",value:n(t).characterSpace,onInput:e[9]||(e[9]=o=>i(o,"characterSpace"))},null,8,["key-frame","value"]),l(r,{label:"shadowColor",value:n(t).shadowColor,onUpdateColor:e[10]||(e[10]=o=>i(o,"shadowColor"))},null,8,["value"]),l(p,{"key-frame":u("shadowBlur"),label:"shadowBlur",value:n(t).shadowBlur,onInput:e[11]||(e[11]=o=>i(o,"shadowBlur"))},null,8,["key-frame","value"]),l(r,{label:"outlineColor",value:n(t).outlineColor,onUpdateColor:e[12]||(e[12]=o=>i(o,"outlineColor"))},null,8,["value"]),l(p,{label:"outlineWidth",value:n(t).outlineWidth,onInput:e[13]||(e[13]=o=>i(o,"outlineWidth"))},null,8,["value"])])])):T("",!0)}}});export{X as default};
