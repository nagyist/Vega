import b from"./AssetListItemBase-34bae7e9.mjs";import h from"./AssetInspectorModal-bb57ea98.mjs";import{p as E,a as I,b as M,r as u,x as P,o as i,i as l,F as T,z as $,u as j,k as c,C as z}from"./entry-46ab768b.mjs";import{u as B}from"./useDragAndDrop-15ac1c4a.mjs";import{s as F}from"./index-77de509b.mjs";import"./VIcons-49ca4ef0.mjs";import"./mdi-4cca1244.mjs";import"./VStringInput-68141226.mjs";import"./VModal-03166157.mjs";const L=["id","onClick","onMousedown"],S=I({__name:"AssetPanel",setup(V){const{assets:t,addAsset:p,removeAsset:d}=M(),{startDad:m}=B();function f(e){var o;e.preventDefault();const s=(o=e.dataTransfer)==null?void 0:o.files[0];!s||p({id:F.uuid(),name:s.name,path:s.name,type:v(_(s.name))})}function _(e){return e.split(".").pop()||""}function v(e){switch(e){case"jpg":case"jpeg":case"png":case"gif":return"Image";case"mp4":case"webm":case"ogg":return"Video";case"mp3":case"wav":return"Audio";default:return"unknown"}}function g(e){e.preventDefault()}function k(e,s){m(e,"assets",s,`asset-list-item-${s}`)}function A(e){t.value.selectedAssets=[e]}function y(e){return t.value.selectedAssets.includes(e)}const a=u(null),x=()=>{var e;(e=a.value)==null||e.focus()};P(()=>{var e;(e=a.value)==null||e.addEventListener("keydown",s=>{s.key==="x"&&t.value.selectedAssets.length>0&&d(t.value.selectedAssets[0])})});const r=u(!1);return(e,s)=>{const o=b,C=h;return i(),l("div",{ref_key:"el",ref:a,style:{height:"100%"},tabindex:"0",onClick:x,onDrop:f,onDragover:g},[(i(!0),l(T,null,$(j(t).assets,(n,D)=>(i(),l("div",{id:`asset-list-item-${n.id}`,key:D,class:"asset-list-item",style:z({backgroundColor:y(n)?"darkgray":"transparent"}),onClick:()=>A(n),onMousedown:w=>k(w,n.id)},[c(o,{asset:n,onClickDots:s[0]||(s[0]=()=>r.value=!0)},null,8,["asset"])],44,L))),128)),c(C,{"is-open":r.value,onClose:s[1]||(s[1]=()=>r.value=!1)},null,8,["is-open"])],544)}}});var R=E(S,[["__scopeId","data-v-4913a0a1"]]);export{R as default};
