import{a as m}from"./useTimeline-80d07c57.mjs";import{a as p,r as u,o as R,f as g,h as v,i as _,F as k}from"./entry-29da48b6.mjs";import{R as l}from"./Recorder-80432ca7.mjs";import h from"./RecordingModal-8abf944a.mjs";function j(t,r){const e=document.createElement("a");e.href&&URL.revokeObjectURL(e.href),typeof t=="string"?e.href="data:text/json;charset=utf-8,"+encodeURIComponent(t):e.href=URL.createObjectURL(t),e.download=r,e.dispatchEvent(new MouseEvent("click")),e.remove()}const B=p({__name:"RecordingButton",setup(t){const{timeline:r,startRecording:e,play:a,update:s}=m(),o=u(!1);function f(){e(!1),o.value=!1,s(0,!0),a(!1)}function d(){l.main&&(l.main.start(r.value.strips),s(0,!0),e(),a(!0),o.value=!0,l.main.onEnd=c=>{e(!1),j(c,"hoge.webm"),o.value=!1,s(0,!0),a(!1)})}const i=u(!1);return(c,n)=>(R(),g(k,null,[v("button",{onClick:n[0]||(n[0]=()=>i.value=!0)}," recording "),_(h,{"is-open":i.value,"is-recording":o.value,onClose:n[1]||(n[1]=()=>i.value=!1),onStartRecording:d,onStopRecording:f},null,8,["is-open","is-recording"])],64))}});var y=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));export{y as R,B as _,j as d};
